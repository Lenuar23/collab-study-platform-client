<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml" fx:controller="org.example.cspclient.controller.ChatController" styleClass="chat-root">
    <top>
        <ToolBar styleClass="topbar">
            <Button text="⟵ Назад" onAction="#backToDashboard"/>
            <Separator orientation="VERTICAL"/>
            <Label fx:id="chatTitle" text="Повідомлення" styleClass="title"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <Button text="Новий чат" onAction="#onNewChat"/>
        </ToolBar>
    </top>

    <center>
        <SplitPane dividerPositions="0.28">
            <!-- Conversations -->
            <VBox spacing="8" styleClass="left-pane">
                <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>
                <Label text="Діалоги" styleClass="section-title"/>
                <ListView fx:id="conversationsList" VBox.vgrow="ALWAYS" styleClass="conversation-list"/>
            </VBox>

            <!-- Messages -->
            <BorderPane styleClass="right-pane">
                <center>
                    <ListView fx:id="messagesList" styleClass="messages-list"/>
                </center>
                <bottom>
                    <HBox spacing="10" alignment="CENTER_LEFT" styleClass="input-bar">
                        <padding><Insets top="8" right="10" bottom="8" left="10"/></padding>
                        <TextField fx:id="inputField" HBox.hgrow="ALWAYS" promptText="Напишіть повідомлення..."/>
                        <Button text="Надіслати" onAction="#onSend"/>
                    </HBox>
                </bottom>
            </BorderPane>
        </SplitPane>
    </center>
</BorderPane>
